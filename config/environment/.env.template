# =====================================================
# CQRS Ticketing Platform Environment Template
# =====================================================
# Copy this file to .env 或 .env.aws 并根据实际部署环境填写。

# ===== BASIC SETTINGS =====
DEPLOYMENT_ENV=aws
SPRING_PROFILES_ACTIVE=aws

# ===== DATABASE CONFIGURATION (RDS) =====
SPRING_DATASOURCE_URL=jdbc:mysql://your-rds-endpoint.amazonaws.com:3306/ticket_platform?serverTimezone=UTC
SPRING_DATASOURCE_USERNAME=your-db-username
SPRING_DATASOURCE_PASSWORD=your-db-password
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=10
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=50
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000

# ===== REDIS CONFIGURATION (ElastiCache) =====
SPRING_DATA_REDIS_HOST=your-redis-cluster.cache.amazonaws.com
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_PASSWORD=
SPRING_DATA_REDIS_TIMEOUT=5000
SPRING_DATA_REDIS_POOL_MAX_ACTIVE=16
SPRING_DATA_REDIS_POOL_MAX_IDLE=8
SPRING_DATA_REDIS_POOL_MIN_IDLE=0
SPRING_DATA_REDIS_POOL_MAX_WAIT=-1ms

# ===== APPLICATION BOOTSTRAP =====
TICKETS_BOOTSTRAP_VENUE_REDIS=false

# ===== AWS & MESSAGING =====
AWS_REGION=us-west-2
AWS_ACCOUNT_ID=123456789012
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_SESSION_TOKEN=

SNS_TOPIC_NAME=ticket.exchange.fifo
SQS_QUEUE_NAME=ticket-sql
SNS_TOPIC_ARN=arn:aws:sns:us-west-2:123456789012:ticket.exchange.fifo

# ===== OBSERVABILITY =====
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when_authorized
MANAGEMENT_ENDPOINT_HEALTH_PROBES_ENABLED=true
MANAGEMENT_HEALTH_TALKATIVENESS_ENABLED=true
MANAGEMENT_HEALTH_READINESS_ENABLED=true
MANAGEMENT_HEALTH_LIVENESSSTATE_ENABLED=true
MANAGEMENT_HEALTH_READINESSSTATE_ENABLED=true
MANAGEMENT_HEALTH_REDIS_ENABLED=false

# ===== TERRAFORM BRIDGE =====
TF_VAR_sns_topic_name=ticket.exchange.fifo
TF_VAR_sqs_queue_name=ticket-sql
TF_VAR_visibility_timeout_seconds=30
TF_VAR_message_retention_seconds=345600
TF_VAR_receive_wait_time_seconds=20
